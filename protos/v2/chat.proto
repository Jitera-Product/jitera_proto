syntax = "proto3";
package schema.v2;

message Chat {
  int32 project_id = 2;
  Status status = 3;

  enum Status {
    STARTED = 0;
    INPROGRESS = 1;
    DONE = 2;
  }

  enum CreatedFrom {
    ASSISTANT = 0;
    PLUGIN = 1;
  }
}

message Message {
  int32 project_id = 0;
  Status status = 1;
  Assitant assitant = 2;
  From from = 3;
  string content = 4;
  bool hidden = 5;
  map<string, string> metadata = 6;

  enum Status {
    SUCCESS = 0;
    INPROGRESS = 1;
    FAILED = 2;
  }

  enum Assitant {
    BACKEND = 0;
    FRONTEND = 1;
    PO = 2;
    TM = 3;
    DEVELOPER = 4;
    MONOREPO = 5;
    FULLSTACK_DEVELOPER = 6;
    ASSISTANT = 7;
  }

  enum From {
    SYSTEM = 0;
    AI = 1;
    HUMAN = 2;
    ASSISTANT = 3;
  }
}

message Resource {
  string name = 1;
  string content = 2;
  ResourceType resource_type = 3;
  Status status = 4;
  string category = 5;
  map<string, string> metadata = 6;

  enum Status {
    DRAFT = 0;
    READY = 1;
    INPROGRESS = 2;
    ERROR = 3;
    SUCCESS = 4;
  }

  enum ResourceType {
    CODE = 0;
    DOCUMENT = 1;
    IMAGE = 2;
  }
}

message Reference {
  string name = 1;
  string origin = 2;
  ReferenceType reference_type = 3;
  string category = 4;
  string content = 5;
  map<string, string> metadata = 6;

  enum ReferenceType {
    CODE = 0;
    USECASE = 1;
    BUSINESS_LOGIC = 2;
    API = 3;
    TICKET = 4;
    IMAGE = 5;
  }
}

