syntax = "proto3";
package schema.v2;

message UserCaseCreation {
	int32 project_generate_queue_id = 1;
	int32 project_id = 2;
  repeated UserCase user_cases = 3;

	oneof state {
		Progress progress = 4;
		Error error = 5;
	}

	message Progress {
		string message = 1;
	}

	message Error {
		string message = 1;
	}
}

message UserCase {
	int32 id = 1;
  string name = 2;
  string node_id = 3;
  string parent_node_id = 4;
  string block_type = 5;
  repeated Content content = 6;
  Property properties = 7;
  int32 project_id = 8;
	repeated UserCase children = 9;

	message Content {
		string type = 1;
		string value = 2;
	}

	message Property {
		string category = 1;
	}
}

message UserCaseCreationResponse {
	int32 project_generate_queue_id = 1;
	string message = 2;
	Module module = 3;
	Status status = 4;

	enum Module {
		UNSPECIFIED = 0;
		BUSINESS_LOGIC = 1;
		ERD = 2;
		API = 3;
	}

	enum Status {
		STATUS_UNSPECIFIED = 0;
		STARTED = 1;
		SUCCEEDED = 2;
		FAILED = 3;
	}
}
